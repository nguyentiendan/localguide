{% extends "layout/layout_profile.jinja2" %}

{% block content %}
<!-- Page Wrapper -->
<div id="wrapper">
	{% include "common/sidebar.jinja2" %}
	<!-- Content Wrapper -->
	<div id="content-wrapper" class="d-flex flex-column">
		<!-- Main Content -->
		<div id="content">
			{% include "common/top_navbar.jinja2" %}
			<!-- Begin Page Content -->
			<div class="container-fluid">
				<!-- Page Heading -->
				<div class="d-sm-flex align-items-center justify-content-between mb-4">
					<h1 class="h3 mb-0 text-gray-800">Dashboard</h1>
					<a href="#" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm" data-toggle="modal" data-target="#logoutModal">
						<i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>Logout
					</a>
				</div>
				<!-- Content Row -->
				<div class="row">
					<!-- Area Chart -->
					<div class="col-xl-8 col-lg-8">
						<div class="card shadow mb-4">
							<!-- Card Header - Dropdown -->
							<div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
								<h6 class="m-0 font-weight-bold text-primary">Profile</h6>
								<div class="dropdown no-arrow">
									<a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
										<i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
									</a>
									<div class="dropdown-menu dropdown-menu-right shadow animated--fade-in" aria-labelledby="dropdownMenuLink">
										<div class="dropdown-header">Dropdown Header:</div>
										<a class="dropdown-item" href="#">Action</a>
										<a class="dropdown-item" href="#">Another action</a>
										<div class="dropdown-divider"></div>
										<a class="dropdown-item" href="#">Something else here</a>
									</div>
								</div>
							</div>
							<!-- Card Body -->
							<div class="card-body">
								<form data-form-title="Profile Info" id="profile">
									<div class="row row-sm-offset">
										<div class="col-md-12 multi-horizontal">
											<div style="align-items: center">
											{% if user.avatar: %}
												<img name="avatar" src="{{ request.static_url('localguide:static/assets/user_images/guide/') }}{{user.uid}}/{{user.avatar}}" style="cursor: pointer; display: block;" v-on:click="file_open" class="img_profile" alt="Click image to update">	
											{% else %}
												<img name="avatar" src="{{request.static_url('localguide:static/assets/images/noimage.jpg')}}" v-on:click="file_open" style="cursor: pointer;" class="img_profile rounded-circle" alt="Click image to update">	
											{% endif %}
											<input ref="file" type="file" name="banner" class="upload_file" @change="filesChange($event)" accept="image/*">
											</div>
										</div>
										<div class="col-md-12 multi-horizontal">
											<div class="form-group">
												<label class="font-weight-bold mb-0">Fullname</label>
												<input type="text" ref="fullname" value="{{user.fullname}}" class="form-control" placeholder="Fullname" maxlength="50" :disabled="!isEditing" :class="{view_info: isEditing}" required="">
											</div>
										</div>
										<div class="col-md-6 multi-horizontal">
											<div class="form-group">
												<label class="font-weight-bold mb-0">Current job</label>
												<input type="text" ref="job" {%if user.job == 'None' %} value="" {%else%} value="{{user.job}}" {%endif%} class="form-control" placeholder="Tour guide" maxlength="50" autocapitalize="off" autocorrect="off" :disabled="!isEditing" :class="{view_info: isEditing}">
											</div>
										</div>
										<div class="col-md-6 multi-horizontal">
											<div class="form-group">
												<label class="font-weight-bold mb-0">Mobile phone</label>
												<input type="text" ref="mobile" value="{{user.mobile}}" class="form-control" placeholder="Mobile phone" maxlength="12" autocapitalize="off" autocorrect="off"  :disabled="!isEditing" :class="{view_info: isEditing}">
											</div>
										</div>
										<div class="col-md-6 multi-horizontal" >
											<div class="form-group">
												<label class="font-weight-bold mb-0">Country</label>
												<select name="country" v-model="country" @change="onChange" class="form-control" :disabled="!isEditing" :class="{view_info: isEditing}">
													<option v-for="country in countries" :value="country.name">
														${country.name}
													</option>
												</select>
											</div>
										</div>
										<div class="col-md-6 multi-horizontal">
											<div class="form-group">
												<label class="font-weight-bold mb-0">City</label>
												<select name="city" ref="city" v-model="user.city" class="form-control" :disabled="!isEditing" :class="{view_info: isEditing}">
													<option v-for="option in options" :value="option.value">
														${ option.name }
													</option>
												</select>
											</div>
										</div>
										<div class="col-md-6 multi-horizontal">
											<div class="form-group">
												<label class="font-weight-bold mb-0">Age</label>
												<input type="text" ref="age" value="{{user.age}}" class="form-control" maxlength="2" autocapitalize="off" autocorrect="off" :disabled="!isEditing" :class="{view_info: isEditing}">
											</div>
										</div>
										<div class="col-md-6 multi-horizontal">
											<div class="form-group">
												<label class="font-weight-bold mb-0">Sex</label>
												<select name="sex" ref="sex" v-model="user.sex" class="form-control" :disabled="!isEditing" :class="{view_info: isEditing}">
													<option value='1'>Male</option>
													<option value='0'>Female</option>
												</select>
											</div>
										</div>	
										<div class="col-md-12 multi-horizontal">
											<div class="form-group">
												<label class="font-weight-bold mb-0">Skills &nbsp;<small>(Enter items separated by a comma...)</small></label>
												<input type="text" ref="skill" {%if user.skill == 'None' %} value="" {%else%} value="{{user.skill}}" {%endif%} class="form-control" placeholder="Guide, Travel" maxlength="100" autocapitalize="off" autocorrect="off" :disabled="!isEditing" :class="{view_info: isEditing}">
											</div>
										</div>
										<div class="col-md-12 multi-horizontal">
											<div class="form-group">
												<label class="font-weight-bold mb-0">Specialities &nbsp;<small>(Enter items separated by a comma...)</small></label>
												<input type="text" ref="specialities" {%if user.specialities == 'None' %} value="" {%else%} value="{{user.specialities}}" {%endif%} class="form-control" placeholder="Scientist guide, IT guide" maxlength="100" autocapitalize="off" autocorrect="off" :disabled="!isEditing" :class="{view_info: isEditing}">
											</div>
										</div>
										<div class="col-md-6 multi-horizontal">
											<div class="form-group">
												<label class="font-weight-bold mb-0">Education</label>
												<input type="text" ref="education" {%if user.education == 'None' %} value="" {%else%} value="{{user.education}}" {%endif%} class="form-control" placeholder="Cameron University" maxlength="80" autocapitalize="off" autocorrect="off" :disabled="!isEditing" :class="{view_info: isEditing}">
											</div>
										</div>
										<div class="col-md-6 multi-horizontal">
											<div class="form-group">
												<label class="font-weight-bold mb-0">Languages &nbsp;<small>(Enter items separated by a comma...)</small></label>
												<input type="text" ref="language" {%if user.language == 'None' %} value="" {%else%} value="{{user.language}}" {%endif%} class="form-control" placeholder="English, Japanese, VietNamese" maxlength="100" autocapitalize="off" autocorrect="off" :disabled="!isEditing" :class="{view_info: isEditing}">
											</div>
										</div>
										<div class="col-md-12 multi-horizontal">
											<div class="form-group">
												<label class="font-weight-bold mb-0">Hobby &nbsp;<small>(Enter items separated by a comma...)</small></label>
												<input type="text" ref="hobby" {%if user.hobby == 'None' %} value="" {%else%} value="{{user.hobby}}" {%endif%} class="form-control" placeholder="Cooking, Movie, Travel" maxlength="100" autocapitalize="off" autocorrect="off" :disabled="!isEditing" :class="{view_info: isEditing}">
											</div>
										</div>
										<div class="col-md-12 multi-horizontal">
											<div class="form-group">
												<label class="font-weight-bold mb-0">Experience</label>
												<quill-editor ref="experience" name="experience" v-model="user.experience" :options="editorOption" :disabled="!isEditing" :class="{view_info_quill: !isEditing}"></quill-editor>
											</div>
										</div>
									</div>
									<span class="input-group-btn">
										<input type="button" v-if="!isEditing" @click="isEditing = true"  class="btn btn-form btn-light display-4" value="Edit">
										<input type="button" v-else="isEditing" @click="processForm" class="btn btn-form btn-primary display-4" value="Save">
										<input type="button" v-if="isEditing" @click="isEditing = false" class="btn btn-form btn-secondary display-4" value="Cancel">
									</span>
								</form>
							</div>
						</div>
					</div>
				</div>
				<!-- Content Row -->
				
			</div>
			<!-- /.container-fluid -->
		</div>
		<!-- End of Main Content -->
		{% include "common/copyright.jinja2" %}
	</div>
	<!-- End of Content Wrapper -->
</div>
<!-- End of Page Wrapper -->

<!-- Scroll to Top Button-->
<a class="scroll-to-top rounded" href="#page-top">
	<i class="fas fa-angle-up"></i>
</a>

{% include "common/logout_modal.jinja2" %}

{% endblock content %}  