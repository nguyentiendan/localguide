{% extends "layout/layout_tour.jinja2" %}

{% block content %}
<!-- Page Wrapper -->
<div id="wrapper">
	{% include "common/sidebar.jinja2" %}
	<!-- Content Wrapper -->
	<div id="content-wrapper" class="d-flex flex-column">
		<!-- Main Content -->
		<div id="content">
			{% include "common/top_navbar.jinja2" %}
			<!-- Begin Page Content -->
			<div class="container-fluid">
				<!-- Page Heading -->
				<div class="d-sm-flex align-items-center justify-content-between mb-4">
					<h1 class="h3 mb-0 text-gray-800">Tour list</h1>
					<a href="#" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm" data-toggle="modal" data-target="#logoutModal">
						<i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>Logout
					</a>
				</div>
				<!-- Content Row -->
				<div class="row">
					<!-- Area Chart -->
					<div class="col-xl-10 col-lg-10">
						<div class="card shadow mb-4">
							<!-- Card Header - Dropdown -->
							<div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
								<h6 class="m-0 font-weight-bold text-primary"></h6>
								<div class="dropdown no-arrow">
									<a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
										<i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
									</a>
									<div class="dropdown-menu dropdown-menu-right shadow animated--fade-in" aria-labelledby="dropdownMenuLink">
										<div class="dropdown-header">Dropdown Header:</div>
										<a class="dropdown-item" href="#">Action</a>
										<a class="dropdown-item" href="#">Another action</a>
										<div class="dropdown-divider"></div>
										<a class="dropdown-item" href="#">Something else here</a>
									</div>
								</div>
							</div>
							<!-- Card Body -->
							<div class="card-body" id="tourList">
								<div class="table-responsive">
									{% if not tour %}
										You have not a tour. 
										<a href="create" class="btn btn-primary btn-icon-split">
											<span class="icon text-white-50">
												<i class="fas fa-flag"></i>
											</span>
											<span class="text">New tour</span>
										</a>
									{%else%}
									<table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
										<thead>
											<tr>
												<th>Tour name</th>
												<th>Tour type</th>
												<th>Country/City</th>
												<th>Guide name</th>
												<th>Price/Day</th>
												<th>Status</th>
												<th>Last update</th>
											</tr>
										</thead>
										<tbody>
											{% for t in tour %}
											<tr>
												<td><a href="#" @click="goEdit( '{{t.id}}', '{{t.uid}}' )" style="cursor: pointer;">{{t.title|e}}</a></td>
												<td>{{t.type}}</td>
												<td>{{t.country}}/{{t.city}}</td>
												<td>Guide name</td>
												<td>{{t.price}}$/{{t.days}} day</td>
												<td>
													{%if t.status == '0' and t.req_active == '0'%} 
														<span class="tour_status" style="cursor: pointer;" data-toggle="tooltip" data-placement="right" title="Tour is not active. Please request admin to active">Not active</span> 
													{%elif t.status == '1'%}  
														<span class="tour_status" style="cursor: pointer;" data-toggle="tooltip" data-placement="right" title="Tour is active, you can view at homepage">Active</span> 
													{%elif t.status == '2'%}  	
														<span class="tour_status" style="cursor: pointer;" data-toggle="tooltip" data-placement="right" title="Tour is disable, you can not view at homepage">Disable</span> 
													{%elif t.status == '3'%}  		
														<span class="tour_status" style="cursor: pointer;" data-toggle="tooltip" data-placement="right" title="Tour is delete, you can not view at homepage">Delete</span> 
													{%elif t.status == '0' and t.req_active == '1'%}  		
														<span class="tour_status" style="cursor: pointer;" data-toggle="tooltip" data-placement="right" title="Tour is waiting active">Request active</span> 
													{%endif%}	
													
												</td>
												<td>{{t.mtime}}</td>
											</tr>
											{% endfor %}
										</tbody>
									</table>
									{%endif%}
								</div>
              				</div>
            			</div>
          			</div>
        		</div>
				<!-- Content Row -->			
			</div>
			<!-- /.container-fluid -->
		</div>
		<!-- End of Main Content -->
		{% include "common/copyright.jinja2" %}
	</div>
	<!-- End of Content Wrapper -->
</div>
<!-- End of Page Wrapper -->

<!-- Scroll to Top Button-->
<a class="scroll-to-top rounded" href="#page-top">
	<i class="fas fa-angle-up"></i>
</a>

{% include "common/logout_modal.jinja2" %}

{% endblock content %}  

